<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>エアコンコンサルツール</title>
  <link rel="stylesheet" href="style.css.css"> 
</head>
<body>
  <div class="container">
    <div class="card">
      <div id="question">エアコンコンサルを始めますか？</div>
      <button id="startBtn" class="btn btn-start" onclick="start()">スタート</button>
      <button id="yesBtn" class="btn btn-yes" onclick="answer('yes')" style="display:none;">はい</button>
      <button id="noBtn" class="btn btn-no" onclick="answer('no')" style="display:none;">いいえ</button>
      <button id="restartBtn" class="btn btn-restart" onclick="restart()" style="display:none;">もう一度</button>
    </div>
  </div>

  <script>
    const questions = [
      { key: 'inpei', question: '隠蔽配管？' },
      { key: 'airClean', question: '空気清浄は必要？' },
      { key: 'eco', question: '省エネ性能は高めがいい？' },
      { key: 'autoClean', question: '二週間に一度掃除する？' },
      { key: 'smell', question: '臭いを抑えたい？' },
      { key: 'rakuClean', question: '掃除の手間を一切なくしたい？' }

    ];

    const products = [
 　　{　//ダイキン
        name: 'ダイキン F/Cシリーズ',
        conditions: {inpei:'no',airClean: 'yes', eco: 'yes',smell:'yes',rakuClean:'no' }
      },
     {　
        name: 'ダイキン Fシリーズ',
        conditions: {inpei:'yes',airClean: 'yes', eco: 'yes',smell:'yes',rakuClean:'no' }
      },
　　 {
        name: 'ダイキン Eシリーズ',
        conditions: {inpei: 'yes', airClean: 'yes', eco: 'no', autoClean: 'no',smell:'no' ,rakuClean:'no'}
      },

      {//三菱
        name: '三菱 XD/Sシリーズ',
        conditions: {inpei: 'yes', airClean: 'yes', eco: 'yes' ,smell:'no',rakuClean:'no'}
      },
     
      {
        name: 'パナソニック EX/Xシリーズ',
        conditions: {inpei: 'no', airClean: 'yes', eco: 'yes', autoClean: 'yes',smell:'yes',rakuClean:'yes' }
      },
      {
        name: 'シャープ AY-Nシリーズ',
        conditions: {inpei: 'no', airClean: 'no', eco: 'no', autoClean: 'no',smell:'yes',rakuClean:'no' }
      }
    ];

    let answers = {};
    let currentIndex = 0;

    function start() {
      currentIndex = 0;
      answers = {};
      document.getElementById('startBtn').style.display = 'none';
      document.getElementById('yesBtn').style.display = 'inline-block';
      document.getElementById('noBtn').style.display = 'inline-block';
      document.getElementById('restartBtn').style.display = 'none';
      document.getElementById('question').innerText = questions[currentIndex].question;
    }

    function answer(choice) {
      const key = questions[currentIndex].key;
      answers[key] = choice;
      currentIndex++;

      if (currentIndex >= questions.length) {
        showResult();
      } else {
        document.getElementById('question').innerText = questions[currentIndex].question;
      }
    }

    function showResult() {
      const matched = products.filter(product => {
        return Object.entries(product.conditions).every(([key, val]) => answers[key] === val);
      });

      const resultDiv = document.getElementById('question');
      if (matched.length > 0) {
        resultDiv.innerHTML = '<div class="result"><strong>おすすめ製品:</strong><br>' + matched.map(p => p.name).join('<br>') + '</div>';
      } else {
        resultDiv.innerHTML = '<div class="result">ご希望条件に合う製品情報が見つかりませんでした。</div>';
      }

      document.getElementById('yesBtn').style.display = 'none';
      document.getElementById('noBtn').style.display = 'none';
      document.getElementById('restartBtn').style.display = 'inline-block';
    }

    function restart() {
      document.getElementById('question').innerText = "エアコンコンサルを始めますか？";
      document.getElementById('startBtn').style.display = 'inline-block';
      document.getElementById('yesBtn').style.display = 'none';
      document.getElementById('noBtn').style.display = 'none';
      document.getElementById('restartBtn').style.display = 'none';
    }
  </script>
</body>
</html>
